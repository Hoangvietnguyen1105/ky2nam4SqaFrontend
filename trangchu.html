<!DOCTYPE html>
<html>
<head>
  <title>List of courses</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" type="text/css" href="./css/trangchu.css">

  <header>
    <div class="logo">
      <h1>Timetable</h1>
    </div>
    <div class="menu">
      <ul>
        <li><a href="#">Timetable</a></li>
        <li><a href="#">student</a></li>
        <li><a href="#">teacher</a></li>
      </ul>
    </div>
  </header>

  <script>
    $(document).ready(function() {
      $.ajax({
        url: 'http://localhost:8081/get-all-courses',
        type: 'GET',
        success: function(data) {
          // Hiển thị danh sách các môn học
          var courseTable = $('#course-table');
          console.log(data)
          for (var i = 0; i < data.length; i++) {
            var course = data[i];
            var courseCode = course.coursesCode;
            console.log(courseCode)
            var courseName = course.name;

            // Tạo một dòng (row) trong bảng với các cột tương ứng
            var row = $('<tr>');
            row.append($('<td>').text(courseCode));
              var courseLink = $('<td>').html($('<a>').attr('href', 'courseGroup.html?courseCode=' + encodeURIComponent(courseCode)).text(courseName)
            )
            courseLink.click(function(courseCode) {
            return function() {
              saveCourseCodeToLocalStorage(courseCode);
            }
            }(courseCode));

            row.append(courseLink)
            var actionCell = $('<td>');
            actionCell.append($('<a>').text('Update'));
            actionCell.append($('<a>').text('Delete'));
            row.append(actionCell);
            courseTable.append(row);
          }
        }
      });
    });
    function saveCourseCodeToLocalStorage(courseCode) {
  localStorage.setItem('courseGroupData', courseCode);
}

  </script>
</head>
<body>
  <h1>List of courses</h1>
  <table id="course-table">
    <thead>
      <tr>
        <th>Course Code</th>
        <th>Course Name</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <!-- Các dòng (rows) của bảng sẽ được thêm bởi JavaScript -->
    </tbody>
  </table>
</body>
</html>
